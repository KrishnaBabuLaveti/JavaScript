<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h3>Rock Paper Scissors</h3>
    <button onclick="PlayerMove('rock');">
        rock
    </button>
    <button onclick="PlayerMove('paper');">
        paper
    </button>
    <button onclick="PlayerMove('scissor');">
        scissor
    </button>
    <button onclick="
        score.wins = 0;
        score.lose = 0;
        score.tie = 0;
        localStorage.removeItem('score');
    ">
        Reset scores
    </button>
    <script>
        // const scores = {
        //     wins: 0,
        //     lose : 0,
        //     tie : 0
        // }
        
        let score = JSON.parse(localStorage.getItem("score")) || {
            wins: 0,
            lose: 0,
            tie:0
        };

        function PlayerMove(player_choice) {
            
            let random_choice = ComputerMove();

            let message = `You picked: ${player_choice}\nComputer picked: ${random_choice}\n`;
            let result = "";

            if (player_choice === 'scissor') {
                if (random_choice === 'paper') {
                    result = 'You win!';
                } else if (random_choice === 'scissor') {
                    result = 'Tie!';
                } else {
                    result = 'Computer wins!';
                }
            }

            else if (player_choice === 'paper') {
                if (random_choice === 'paper') {
                    result = 'Tie!';
                } else if (random_choice === 'scissor') {
                    result = 'Computer wins!';
                } else {
                    result = 'You win!';
                }
            }

            else {
                if (random_choice === 'paper') {
                    result = 'Computer wins!';
                } else if (random_choice === 'scissor') {
                    result = 'You win!';
                } else {
                    result = 'Tie!';
                }
            }
            if(result ===  'You win!'){
                score.wins ++;

            }
            else if(result ===  'Computer wins!'){
                score.lose ++;
            }
            else{
                score.tie ++;
            }

            localStorage.setItem("score" , JSON.stringify(score));

            alert(`${message} ${result} \n Wins: ${score.wins} , Lose:${score.lose} ,Tie: ${score.tie}`);


        }

        function ComputerMove() {
            const random_number = Math.random();
            let choice = "";
            if (random_number >= 0 && random_number < 1 / 3) {
                choice = "rock";
            } else if (random_number >= 1 / 3 && random_number < 2 / 3) {
                choice = "paper";
            } else {
                choice = "scissor";
            }
            return choice;
        }
    </script>
</body>
</html>
